env\Scripts\activate.bat
pip install streamlit==1.41.1

import streamlit as st
from langchain.chat_models import ChatOpenAI
from langchain.schema import SystemMessage, HumanMessage
import os

# ðŸ“¦ pip freeze ã®çµæžœã‚’è¡¨ç¤ºï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
import subprocess
import sys

st.title("LangChain Debug Info")
st.write("Installed packages (pip freeze):")
st.code(subprocess.check_output([sys.executable, "-m", "pip", "freeze"]).decode("utf-8"))

# ðŸ” APIã‚­ãƒ¼ã‚’secrets.tomlã‹ã‚‰èª­ã¿è¾¼ã¿
os.environ["OPENAI_API_KEY"] = st.secrets["OPENAI_API_KEY"]

# ðŸ–¥ ã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜Ž
st.title("è‚²å…ã‚µãƒãƒ¼ãƒˆ AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ")
st.markdown("""
ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ã‚ãªãŸã®è‚²å…ã«é–¢ã™ã‚‹ãŠæ‚©ã¿ã«AIãŒå°‚é–€å®¶ã¨ã—ã¦å›žç­”ã—ã¾ã™ã€‚  
ä»¥ä¸‹ã®å°‚é–€å®¶ã‚¿ã‚¤ãƒ—ã‚’é¸ã³ã€ç›¸è«‡å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
""")

# ðŸŽ› å°‚é–€å®¶é¸æŠžãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³
expert_type = st.radio("ç›¸è«‡ã—ãŸã„å°‚é–€å®¶ã‚’é¸ã‚“ã§ãã ã•ã„ï¼š", ["æ „é¤Šå£«", "ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†å£«"])

# âœï¸ å…¥åŠ›æ¬„
user_input = st.text_area("ã”ç›¸è«‡å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š", height=150)

# ðŸ’¬ LLMã‹ã‚‰ã®å›žç­”ã‚’å–å¾—ã™ã‚‹é–¢æ•°
def get_response(user_input, expert_type):
    if expert_type == "æ „é¤Šå£«":
        system_msg = "ã‚ãªãŸã¯å­ã©ã‚‚ã®æ „é¤Šã«è©³ã—ã„æ „é¤Šå£«ã§ã™ã€‚è¦ªã‹ã‚‰ã®ç›¸è«‡ã«ã‚„ã•ã—ãä¸å¯§ã«ç­”ãˆã¦ãã ã•ã„ã€‚"
    elif expert_type == "ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†å£«":
        system_msg = "ã‚ãªãŸã¯è‚²å…ã‚¹ãƒˆãƒ¬ã‚¹ã«è©³ã—ã„å°‚é–€å®¶ã§ã™ã€‚å¿ƒã®ã‚±ã‚¢ã«é–¢ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã—ã¦ãã ã•ã„ã€‚"
    else:
        system_msg = "ã‚ãªãŸã¯è¦ªã®è‚²å…ã«é–¢ã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚ä¸€èˆ¬çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚"

    chat = ChatOpenAI(temperature=0.7, model="gpt-3.5-turbo")
    messages = [
        SystemMessage(content=system_msg),
        HumanMessage(content=user_input)
    ]
    response = chat(messages)
    return response.content

# ðŸš€ å®Ÿè¡Œãƒœã‚¿ãƒ³
if st.button("AIã«ç›¸è«‡ã™ã‚‹"):
    if user_input.strip():
        with st.spinner("AIãŒå›žç­”ä¸­..."):
            answer = get_response(user_input, expert_type)
            st.success("å›žç­”ï¼š")
            st.write(answer)
    else:
        st.warning("ã”ç›¸è«‡å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")

pip freeze > requirements.txt
git add .
git config -l
git config --global user.name "eritono"
git config --global user.email "eri.tonooka0315@gmail.com"
git commit -m "first commit."
git push -u origin main




